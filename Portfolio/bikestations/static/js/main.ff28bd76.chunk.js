(this.webpackJsonpbikestations=this.webpackJsonpbikestations||[]).push([[0],{19:function(t,a,e){t.exports={Spinner:"Spinner_Spinner__uy_b_",load6:"Spinner_load6__3unga",round:"Spinner_round__3K6zz"}},28:function(t,a,e){},29:function(t,a,e){},3:function(t,a,e){t.exports={Station:"Station_Station__2_EUB",Station_Selected:"Station_Station_Selected__sdXxx",Map_Link:"Station_Map_Link__Hhqm-",Station_Name:"Station_Station_Name__lHxww",Station_Info:"Station_Station_Info__3bGYM",Station_Info_Fade:"Station_Station_Info_Fade__UgHxI"}},4:function(t,a,e){t.exports={Navbar:"Navbar_Navbar__38HaA",Navbar_Logo:"Navbar_Navbar_Logo__9FBeL",Navbar_Item:"Navbar_Navbar_Item__1J8SN",Navbar_Item_Login:"Navbar_Navbar_Item_Login__3QZkr"}},48:function(t,a,e){"use strict";e.r(a);var n=e(0),i=e(2),s=e.n(i),o=e(15),r=e.n(o),c=(e(28),e(29),e(21)),l=e(16),_=e(17),d=e(22),b=e(20),u=e(18),j=e.n(u),v=e(5),m=e.n(v),h=e(3),p=e.n(h),S=function(t){var a="http://www.google.com/maps/place/".concat(t.lat,",").concat(t.lon);return Object(n.jsxs)("div",{className:[p.a.Station,t.selected?p.a.Station_Selected:null].join(" "),onClick:t.select,children:[Object(n.jsxs)("h4",{className:t.selected?p.a.Station_Name:null,children:["Station: ",t.name]}),Object(n.jsxs)("div",{className:["spacer",p.a.Station_Info,t.selected?null:p.a.Station_Info_Fade].join(" "),children:[Object(n.jsxs)("p",{children:["Address: ",t.address]}),Object(n.jsxs)("p",{children:["Available bikes: ",t.availBike]}),Object(n.jsxs)("p",{children:["Available docks: ",t.availDock]}),Object(n.jsx)("a",{className:p.a.Map_Link,href:a,target:"_blank",rel:"noreferrer",children:"Show on map"})]})]})},f=e(4),N=e.n(f),g=function(t){return Object(n.jsxs)("ul",{className:N.a.Navbar,children:[Object(n.jsx)("li",{className:[N.a.Navbar_Item,N.a.Navbar_Logo].join(" ")}),Object(n.jsx)("li",{className:"spacer"}),Object(n.jsx)("li",{className:N.a.Navbar_Item,children:"About"}),Object(n.jsx)("li",{className:[N.a.Navbar_Item,N.a.Navbar_Item_Login].join(" "),children:"Login"})]})},x=e(19),O=e.n(x),k=function(){return Object(n.jsx)("div",{className:O.a.Spinner,children:"Loading..."})},L=function(t){Object(d.a)(e,t);var a=Object(b.a)(e);function e(){var t;Object(l.a)(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=a.call.apply(a,[this].concat(i))).state={stations:[],loading:!0,error:!1,stationsLoaded:20},t.selectStationHandler=function(a){if(!t.state.stations[a].selected){var e=t.state.stations.map((function(t){var a=Object(c.a)({},t);return a.selected=!1,a}));e[a].selected=!0,t.setState({stations:e})}},t.loadMoreStationsHandler=function(){var a=t.state.stationsLoaded;t.setState({stationsLoaded:a+20})},t}return Object(_.a)(e,[{key:"componentDidMount",value:function(){var t=this;j.a.post("https://gbfs-graphql.vercel.app/api/graphql",{query:"{\n                stations {\n                    station_id\n                    name\n                    address\n                    lat\n                    lon\n                    availability {\n                        num_bikes_available\n                        num_docks_available\n                    }\n                }\n            }"}).then((function(a){var e=a.data.data.stations.filter((function(t){return!(!t.availability.num_bikes_available||!t.availability.num_docks_available)&&(t.selected=!1,!0)}));t.setState({stations:e})})).catch((function(a){return t.setState({error:!0})}))}},{key:"render",value:function(){var t=this,a=Object(n.jsx)(k,{});this.state.error&&(a=Object(n.jsx)("h3",{style:{textAlign:"center",color:"red"},children:"Something went wrong!"})),!this.state.error&&this.state.stations.length&&(a=this.state.stations.slice(0,this.state.stationsLoaded).map((function(a,e){return Object(n.jsx)(S,{name:a.name,address:a.address,lat:a.lat,lon:a.lon,availBike:a.availability.num_bikes_available,availDock:a.availability.num_docks_available,selected:a.selected,select:function(){return t.selectStationHandler(e)}},a.station_id)})));var e=null;return this.state.stationsLoaded>=this.state.stations.length&&(e={display:"none"}),Object(n.jsxs)("div",{className:m.a.Homepage,children:[Object(n.jsx)(g,{}),Object(n.jsx)("h1",{className:m.a.Header,children:"Available bikes at:"}),Object(n.jsx)("main",{children:Object(n.jsxs)("div",{className:m.a.Stations_List,children:[a,Object(n.jsx)("div",{className:m.a.Load_More,style:e,onClick:function(){return t.loadMoreStationsHandler()},children:Object(n.jsx)("p",{children:"Load more"})})]})})]})}}]),e}(i.Component),H=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(L,{})})},I=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,49)).then((function(a){var e=a.getCLS,n=a.getFID,i=a.getFCP,s=a.getLCP,o=a.getTTFB;e(t),n(t),i(t),s(t),o(t)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root")),I()},5:function(t,a,e){t.exports={Homepage:"Homepage_Homepage__1nXKT",Header:"Homepage_Header__3uTps",Stations_List:"Homepage_Stations_List__11lfR",Load_More:"Homepage_Load_More__1EVBZ"}}},[[48,1,2]]]);
//# sourceMappingURL=main.ff28bd76.chunk.js.map